[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "데이터마이닝 기법과 응용: R 예제",
    "section": "",
    "text": "소개\n데이터마이닝 기법과 응용 2판의 예제에 대한 R 코드입니다."
  },
  {
    "objectID": "chapters/ch11_cluster.html#예-11.1",
    "href": "chapters/ch11_cluster.html#예-11.1",
    "title": "11장 군집분석 개요",
    "section": "(예 11.1)",
    "text": "(예 11.1)\n데이터 읽기\n\ndat1 &lt;- read.csv(\"data/ch11_dat1.csv\")\n\ndat2 &lt;- dat1[, -1]\n\n유클리디안 거리\n\nD1 &lt;- dist(dat2)\nD1 &lt;- round(D1, 2)\nD1\n\n       1     2     3     4     5     6     7     8     9\n2   8.31                                                \n3  24.74 16.76                                          \n4  16.91  9.11  7.87                                    \n5  15.17  9.43 12.08  6.48                              \n6  10.10  3.00 16.55  9.49 11.31                        \n7  27.17 19.05  3.16 10.39 15.17 18.49                  \n8  27.87 20.35 10.05 13.15 19.10 19.52  8.31            \n9  33.03 25.57 14.53 18.57 24.52 24.52 12.04  5.48      \n10 24.37 17.75 11.75 11.66 17.03 17.49 11.49  5.74 10.05\n\n\n각 변수의 평균\n\nmean_vector &lt;- colMeans(dat2)\nmean_vector\n\n  X1   X2   X3 \n36.8  8.5  7.8 \n\n\n각 변수의 표준편차\n\ncov_matrix &lt;- cov(dat2)\nsqrt(cov_matrix)\n\nWarning in sqrt(cov_matrix): NaNs produced\n\n\n         X1       X2       X3\nX1 9.738811      NaN      NaN\nX2      NaN 4.478343 1.490712\nX3      NaN 1.490712 4.661902"
  },
  {
    "objectID": "chapters/ch11_cluster.html#예-11.3",
    "href": "chapters/ch11_cluster.html#예-11.3",
    "title": "11장 군집분석 개요",
    "section": "(예 11.3)",
    "text": "(예 11.3)\n상관계수\n\nrow_cor &lt;- cor(t(dat2), use = \"pairwise.complete.obs\", method = \"pearson\")\nrow_cor\n\n           [,1]      [,2]      [,3]      [,4]      [,5]      [,6]      [,7]\n [1,] 1.0000000 0.9347195 0.6828741 0.7600371 0.5771595 0.9673518 0.7144034\n [2,] 0.9347195 1.0000000 0.8979182 0.9413798 0.8297018 0.9942708 0.9164427\n [3,] 0.6828741 0.8979182 1.0000000 0.9937702 0.9907060 0.8457246 0.9990286\n [4,] 0.7600371 0.9413798 0.9937702 1.0000000 0.9693748 0.8999271 0.9977160\n [5,] 0.5771595 0.8297018 0.9907060 0.9693748 1.0000000 0.7652812 0.9837496\n [6,] 0.9673518 0.9942708 0.8457246 0.8999271 0.7652812 1.0000000 0.8684181\n [7,] 0.7144034 0.9164427 0.9990286 0.9977160 0.9837496 0.8684181 1.0000000\n [8,] 0.8099343 0.9655028 0.9815576 0.9967479 0.9464324 0.9321377 0.9890283\n [9,] 0.8219949 0.9707253 0.9773556 0.9948498 0.9394895 0.9394895 0.9857309\n[10,] 0.8089800 0.9650783 0.9818670 0.9968776 0.9469560 0.9315479 0.9892671\n           [,8]      [,9]     [,10]\n [1,] 0.8099343 0.8219949 0.8089800\n [2,] 0.9655028 0.9707253 0.9650783\n [3,] 0.9815576 0.9773556 0.9818670\n [4,] 0.9967479 0.9948498 0.9968776\n [5,] 0.9464324 0.9394895 0.9469560\n [6,] 0.9321377 0.9394895 0.9315479\n [7,] 0.9890283 0.9857309 0.9892671\n [8,] 1.0000000 0.9997823 0.9999987\n [9,] 0.9997823 1.0000000 0.9997471\n[10,] 0.9999987 0.9997471 1.0000000\n\n\n표준화한 후 상관계수\n\ns_dat2 &lt;- scale(dat2)\nrow_cor_s &lt;- cor(t(s_dat2), use = \"pairwise.complete.obs\", method = \"pearson\")\nrow_cor_s\n\n            [,1]       [,2]        [,3]        [,4]       [,5]        [,6]\n [1,]  1.0000000  0.9999315 -0.67406561  0.16745765  0.1015587  0.97213475\n [2,]  0.9999315  1.0000000 -0.66537519  0.17898338  0.1131937  0.96932487\n [3,] -0.6740656 -0.6653752  1.00000000  0.61536345  0.6663950 -0.82844400\n [4,]  0.1674577  0.1789834  0.61536345  1.00000000  0.9977886 -0.06832112\n [5,]  0.1015587  0.1131937  0.66639497  0.99778861  1.0000000 -0.13448190\n [6,]  0.9721348  0.9693249 -0.82844400 -0.06832112 -0.1344819  1.00000000\n [7,] -0.8797846 -0.8741613  0.94417672  0.32133338  0.3835649 -0.96670729\n [8,] -0.8006556 -0.8076120  0.09713788 -0.72474074 -0.6773407 -0.63789659\n [9,] -0.7482030 -0.7559160  0.01425163 -0.77939352 -0.7360260 -0.57182171\n[10,] -0.7956097 -0.8026447  0.08879897 -0.73048596 -0.6834783 -0.63142435\n            [,7]        [,8]        [,9]       [,10]\n [1,] -0.8797846 -0.80065556 -0.74820299 -0.79560974\n [2,] -0.8741613 -0.80761196 -0.75591598 -0.80264471\n [3,]  0.9441767  0.09713788  0.01425163  0.08879897\n [4,]  0.3213334 -0.72474074 -0.77939352 -0.73048596\n [5,]  0.3835649 -0.67734074 -0.73602598 -0.68347830\n [6,] -0.9667073 -0.63789659 -0.57182171 -0.63142435\n [7,]  1.0000000  0.41959679  0.34286201  0.41197990\n [8,]  0.4195968  1.00000000  0.99655423  0.99996493\n [9,]  0.3428620  0.99655423  1.00000000  0.99721394\n[10,]  0.4119799  0.99996493  0.99721394  1.00000000"
  },
  {
    "objectID": "chapters/ch12_cluster.html#예-12.1",
    "href": "chapters/ch12_cluster.html#예-12.1",
    "title": "12장 계층적 군집방법",
    "section": "(예 12.1)",
    "text": "(예 12.1)\n데이터 읽기\n\ndat1 &lt;- read.csv(\"data/ch12_dat1.csv\")\n\ndat2 &lt;- dat1[, -1]\n\n유클리디안 거리\n\nD1 &lt;- dist(dat2)\nD1 &lt;- round(D1, 2)\nD1\n\n       1     2     3     4     5     6     7     8     9\n2   2.24                                                \n3  11.31  9.22                                          \n4   7.81  5.83  3.61                                    \n5  11.40  9.22  1.41  4.12                              \n6   1.41  2.24 11.40  8.06 11.31                        \n7  10.63  8.60  1.00  2.83  2.24 10.82                  \n8  10.05  9.49  9.22  7.21 10.44 11.18  8.25            \n9  11.40 11.18 11.40  9.43 12.65 12.65 10.44  2.24      \n10 12.37 12.08 11.70 10.00 13.00 13.60 10.77  2.83  1.00\n\n\n평균연결법\n\nhc_c &lt;- hclust(D1, method = \"average\")\nplot(hc_c,\n  hang = -1, cex = 0.7, main = \"Average linkage with Euclidean distance\",\n  ylab = \"Distance\", xlab = \"observation\"\n)"
  },
  {
    "objectID": "chapters/ch12_cluster.html#예-12.2",
    "href": "chapters/ch12_cluster.html#예-12.2",
    "title": "12장 계층적 군집방법",
    "section": "(예 12.2)",
    "text": "(예 12.2)\n데이터 읽기\n\ndat1 &lt;- read.csv(\"data/ch12_dat2.csv\")\n\ndat2 &lt;- dat1[, -1]\n\n유클리디안 거리\n\nD1 &lt;- dist(dat2)\nD1 &lt;- round(D1, 2)\nD1\n\n      1     2     3     4     5     6     7\n2 16.12                                    \n3  2.24 17.00                              \n4 18.60  9.06 18.36                        \n5 13.15  5.00 14.56 13.15                  \n6  5.66 12.17  5.39 13.04 10.82            \n7 15.30  1.41 16.03  8.00  5.39 11.05      \n8 16.64  7.28 16.55  2.24 11.05 11.18  6.08\n\n\n워드 방법\n\nhc_c &lt;- hclust(D1, method = \"ward.D2\")\nplot(hc_c,\n  hang = -1, cex = 1, main = \"Ward's linkage with Euclidean distance\",\n  ylab = \"Distance\", xlab = \"observation\"\n)"
  },
  {
    "objectID": "chapters/ch12_cluster.html#예-12.3",
    "href": "chapters/ch12_cluster.html#예-12.3",
    "title": "12장 계층적 군집방법",
    "section": "(예 12.3)",
    "text": "(예 12.3)\n패키지 로드\n\nlibrary(cluster)\n\n데이터 읽기\n\ndat1 &lt;- read.csv(\"data/ch12_dat3.csv\")\n\ndat2 &lt;- dat1[, -1]\n\n다이아나 방법\n\nclus_diana &lt;- diana(dat2)\n\nplot(clus_diana, which.plot = 2, main = \"Dendrogram of Diana\")"
  },
  {
    "objectID": "chapters/ch12_cluster.html#예-12.4",
    "href": "chapters/ch12_cluster.html#예-12.4",
    "title": "12장 계층적 군집방법",
    "section": "(예 12.4)",
    "text": "(예 12.4)\n데이터 로드\n\ndat1 &lt;- read.csv(\"data/ch12_dat2.csv\")\n\ndat2 &lt;- dat1[, -1]\n\n패키지 로드\n\nlibrary(factoextra)\n\nLoading required package: ggplot2\n\n\nWelcome! Want to learn more? See two factoextra-related books at https://goo.gl/ve3WBa\n\n\n군집수 결정 - total within sum of square\n\nfviz_nbclust(dat2, kmeans, method = \"wss\", k.max = 5)\n\n\n\n\n군집수 결정 - gap statistics\n\nfviz_nbclust(dat2, kmeans, method = \"gap_stat\", k.max = 5)\n\n\n\n\n군집수 결정 - average silhouette width\n\nfviz_nbclust(dat2, kmeans, method = \"silhouette\", k.max = 5)"
  },
  {
    "objectID": "chapters/ch13_cluster_dbscan.html#예-13.1",
    "href": "chapters/ch13_cluster_dbscan.html#예-13.1",
    "title": "13장 비계층적 군집방법",
    "section": "(예 13.1)",
    "text": "(예 13.1)\n군집 수 결정\n\nlibrary(factoextra)\n\nLoading required package: ggplot2\n\n\nWelcome! Want to learn more? See two factoextra-related books at https://goo.gl/ve3WBa\n\n# may use scale data or raw data for the optimal k\ns_dat2 &lt;- scale(dat2)\n\nfviz_nbclust(s_dat2, kmeans, method = \"wss\", k.max = 5) + \n  geom_vline(xintercept = 3, linetype = 2)\n\n\n\nfviz_nbclust(s_dat2, kmeans, method = \"gap_stat\", k.max = 5)\n\n\n\nfviz_nbclust(s_dat2, kmeans, method = \"silhouette\", k.max = 5)\n\n\n\n\nK-means 알고리즘\n\nset.seed(123)\nkm &lt;- kmeans(dat2, 3)\nkm\n\nK-means clustering with 3 clusters of sizes 4, 3, 3\n\nCluster means:\n         X1    X2\n1 13.250000  6.75\n2  3.666667  3.00\n3  7.000000 14.00\n\nClustering vector:\n [1] 3 3 1 1 1 3 1 2 2 2\n\nWithin cluster sum of squares by cluster:\n[1] 11.500000  4.666667  4.000000\n (between_SS / total_SS =  94.6 %)\n\nAvailable components:\n\n[1] \"cluster\"      \"centers\"      \"totss\"        \"withinss\"     \"tot.withinss\"\n[6] \"betweenss\"    \"size\"         \"iter\"         \"ifault\"      \n\n\n시각화\n\nfviz_cluster(km,\n  data = dat2,\n  ellipse.type = \"convex\",\n  repel = TRUE, cex = 3\n)\n\nWarning: Duplicated aesthetics after name standardisation: size"
  },
  {
    "objectID": "chapters/ch13_cluster_dbscan.html#예-13.3",
    "href": "chapters/ch13_cluster_dbscan.html#예-13.3",
    "title": "13장 비계층적 군집방법",
    "section": "(예 13.3)",
    "text": "(예 13.3)\n패지키 로드\n\nlibrary(\"cluster\")\n\nPAM 알고리즘\n\npam_out &lt;- pam(dat2, 3)\npam_out\n\nMedoids:\n     ID X1 X2\n[1,]  6  7 15\n[2,]  3 14  6\n[3,]  9  3  3\nClustering vector:\n [1] 1 1 2 2 2 1 2 3 3 3\nObjective function:\n   build     swap \n1.744343 1.290611 \n\nAvailable components:\n [1] \"medoids\"    \"id.med\"     \"clustering\" \"objective\"  \"isolation\" \n [6] \"clusinfo\"   \"silinfo\"    \"diss\"       \"call\"       \"data\"      \n\n\n각 군집에 속한 객체 수\n\ntable(pam_out$clustering)\n\n\n1 2 3 \n3 4 3 \n\n\n시각화\n\nfviz_cluster(pam_out,\n  data = dat2,\n  ellipse.type = \"convex\",\n  repel = TRUE\n)\n\n\n\n\n실루엣 계산\n\nsil_pam &lt;- silhouette(pam_out$clustering, dist(dat1))\nsil_pam\n\n      cluster neighbor sil_width\n [1,]       1        2 0.6536149\n [2,]       1        2 0.5991214\n [3,]       2        1 0.6831509\n [4,]       2        1 0.4698487\n [5,]       2        1 0.7075065\n [6,]       1        2 0.5378350\n [7,]       2        3 0.6265840\n [8,]       3        2 0.6879676\n [9,]       3        2 0.8371732\n[10,]       3        2 0.8064499\nattr(,\"Ordered\")\n[1] FALSE\nattr(,\"call\")\nsilhouette.default(x = pam_out$clustering, dist = dist(dat1))\nattr(,\"class\")\n[1] \"silhouette\"\n\nmean(sil_pam[, 3])\n\n[1] 0.6609252\n\n\n실루엣 시각화\n\nlibrary(factoextra)\nfviz_silhouette(sil_pam)\n\n  cluster size ave.sil.width\n1       1    3          0.60\n2       2    4          0.62\n3       3    3          0.78"
  },
  {
    "objectID": "chapters/ch13_cluster_dbscan.html#예-13.8",
    "href": "chapters/ch13_cluster_dbscan.html#예-13.8",
    "title": "13장 비계층적 군집방법",
    "section": "(예 13.8)",
    "text": "(예 13.8)\n패키지 로드\n\nlibrary(fpc)\n\n디비스캔\n\ndb &lt;- dbscan(dat2, eps = 3, MinPts = 3)\ndb\n\ndbscan Pts=10 MinPts=3 eps=3\n       1 2 3\nborder 0 1 0\nseed   3 3 3\ntotal  3 4 3\n\n\n군집 결과\n\ndb$cluster\n\n [1] 1 1 2 2 2 1 2 3 3 3\n\n\n시각화\n\nfviz_cluster(db,\n  data = dat2,\n  ellipse.type = \"convex\",\n  repel = TRUE\n)\n\n\n\n\n실루엣 계산\n\nlibrary(cluster)\nsil_db &lt;- silhouette(db$cluster, dist(dat1))\nmean(sil_db[, 3])\n\n[1] 0.6609252\n\n\n실루엣 시각화\n\nlibrary(factoextra)\nfviz_silhouette(sil_db)\n\n  cluster size ave.sil.width\n1       1    3          0.60\n2       2    4          0.62\n3       3    3          0.78"
  }
]